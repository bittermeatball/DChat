<mat-accordion>
  <mat-expansion-panel [expanded]="activePanel === PANEL.CONVERSATION">
    <mat-expansion-panel-header>
      <mat-panel-title class="text-gray-500">
        <mat-icon>question_answer</mat-icon>
      </mat-panel-title>
      <mat-panel-title class="text-gray-500"> Conversation </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="text-gray-500">
      <div
        *ngFor="let conversation of conversations; index as i"
        class="p-3 mb-3 rounded-md shadow-md cursor-pointer bg-cover"
        [class]="conversation.thumbnail && 'text-white bg-blend-darken'"
        [style]="{
          backgroundImage: conversation.thumbnail
            ? 'url(' + conversation.thumbnail + ')'
            : '',
          backgroundColor: conversation.thumbnail ? 'rgba(0, 0, 0, 0.5)' : ''
        }"
        (click)="handleSelectConversation(conversation)"
      >
        <div class="conversation-item-inner">
          <p class="mb-0">
            <b>{{ conversation.title }}</b>
          </p>
          <div class="conversation-item-description">
            <p class="mb-1 text-xs">
              {{ conversation.lastMessageSender?.name }}:
              {{ conversation.lastMessage?.message?.slice(0, 20) }}...
            </p>
            <p class="text-xs">
              {{ conversation.lastMessageAt | date: "short" }}
            </p>
          </div>
        </div>
      </div>
    </div>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="activePanel === PANEL.CONTACTS">
    <mat-expansion-panel-header>
      <mat-panel-title class="text-gray-500">
        <mat-icon>contact_mail</mat-icon>
      </mat-panel-title>
      <mat-panel-title class="text-gray-500"> Contacts </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="text-gray-500">
      <div
        *ngFor="let contact of contacts; index as i"
        class="p-1 mb-3 rounded-md shadow-md cursor-pointer bg-cover"
        (click)="handleSelectContact(contact)"
        matRipple
      >
        <div class="flex items-center gap-2">
          <img
            [src]="contact.avatar"
            [alt]="contact.name"
            class="w-8 h-8 object-cover"
          />
          <p class="mb-0">
            <b>{{ contact.name }}</b>
          </p>
        </div>
      </div>
    </div>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="activePanel === PANEL.SHARING">
    <mat-expansion-panel-header>
      <mat-panel-title class="text-gray-500">
        <mat-icon>share</mat-icon>
      </mat-panel-title>
      <mat-panel-title class="text-gray-500"> Sharing </mat-panel-title>
    </mat-expansion-panel-header>
    <p>File Sharing and shit.</p>
  </mat-expansion-panel>
</mat-accordion>
